<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
	"http://struts.apache.org/dtds/struts-2.3.dtd">

<struts>
	<package name="auth" namespace="/admin" extends="security">
		
		<action name="doLogout" class="logoutAction">
			<result name="success" type="redirect">/admin/login.jsp</result>
			<interceptor-ref name="loginStack"></interceptor-ref>
		</action>
		
		<action name="doLogin" class="loginAction">
			<result name="success" type="redirect">/admin/guide.action</result>
			<result name="input">/admin/login.jsp</result>
			<interceptor-ref name="defaultStack"></interceptor-ref>
		</action>
		
		<action name="changePassword" class="userSettingAction">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">status,msg</param>
			</result>
			<interceptor-ref name="loginStack"></interceptor-ref>
		</action>
		
		<action name="guide" class="adminGuideAction">
			<result name="success">/admin/guide.jsp</result>
			<interceptor-ref name="loginStack"></interceptor-ref>
		</action>
		
		<action name="companyInit" class="adminCompanyAction" method="init">
			<result name="success">/admin/company.jsp</result>
			<interceptor-ref name="loginStack"></interceptor-ref>
		</action>
		
		<action name="saveCompany" class="adminCompanyAction" method="save">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">actionErrors\[\d+\], fieldErrors\..+$,status,company\..+$</param>
			</result>
			<interceptor-ref name="loginStack"></interceptor-ref>
		</action>
		
		<action name="categoryInit" class="adminCategoryAction" method="init">
			<result name="success">/admin/category.jsp</result>
			<interceptor-ref name="loginStack"></interceptor-ref>
		</action>
		
		<action name="saveCategory" class="adminCategoryAction" method="addCategory">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">actionErrors\[\d+\], fieldErrors\..+$,status,msg,category\..+$</param>
			</result>
			<interceptor-ref name="loginStack"></interceptor-ref>
		</action>
		
		<action name="updateCategory" class="adminCategoryAction" method="updateCategory">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">actionErrors\[\d+\], fieldErrors\..+$,status,msg,category\..+$</param>
			</result>
			<interceptor-ref name="loginStack"></interceptor-ref>
		</action>
		
		<action name="deleteCategory" class="adminCategoryAction" method="deleteCategory">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">actionErrors\[\d+\], fieldErrors\..+$,status,msg,category\..+$</param>
			</result>
			<interceptor-ref name="loginStack"></interceptor-ref>
		</action>
		
		<action name="productQuery" class="adminProductAction" method="queryProduct">
			<result name="success">/admin/product-query.jsp</result>
			<interceptor-ref name="loginStack"></interceptor-ref>
		</action>
		
		<action name="createProductInit" class="adminProductAction" method="createProductInit">
			<result name="success">/admin/product-create.jsp</result>
			<interceptor-ref name="loginStack"></interceptor-ref>
		</action>
		
		<action name="saveProduct" class="adminProductAction" method="saveProduct">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">actionErrors\[\d+\], fieldErrors\..+$,status,msg,product\..+$</param>
			</result>
			<interceptor-ref name="loginStack"></interceptor-ref>
		</action>
		
		<action name="updateProduct" class="adminProductAction" method="updateProduct">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">actionErrors\[\d+\], fieldErrors\..+$,status,msg,product\..+$</param>
			</result>
			<interceptor-ref name="loginStack"></interceptor-ref>
		</action>
		
		<action name="productDetail" class="adminProductAction" method="queryProductDetail">
			<result name="success">/admin/product-detail.jsp</result>
			<result name="input" type="redirect">/admin/productQuery.action</result>
			<interceptor-ref name="loginStack"></interceptor-ref>
		</action>
		
		<action name="deleteProduct" class="adminProductAction" method="deleteProduct">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">actionErrors\[\d+\], fieldErrors\..+$,status,msg</param>
			</result>
			<interceptor-ref name="loginStack"></interceptor-ref>
		</action>
		
		<action name="deleteProductImage" class="adminUploadImageAction" method="deleteUploadImage">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">actionErrors\[\d+\], fieldErrors\..+$,status,msg</param>
			</result>
			<interceptor-ref name="loginStack"></interceptor-ref>
		</action>
		
		<action name="setCoverImage" class="adminProductAction" method="updateCoverImage">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">actionErrors\[\d+\], fieldErrors\..+$,status,msg</param>
			</result>
			<interceptor-ref name="loginStack"></interceptor-ref>
		</action>
		
		<action name="videoInit" class="adminVideoAction" method="init">
			<result name="success">/admin/video.jsp</result>
			<interceptor-ref name="loginStack"></interceptor-ref>
		</action>
		
		<action name="saveVideo" class="adminVideoAction" method="save">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">actionErrors\[\d+\], fieldErrors\..+$,status,msg,video\..+$</param>
			</result>
			<interceptor-ref name="loginStack"></interceptor-ref>
		</action>
		
		<action name="updateVideo" class="adminVideoAction" method="update">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">actionErrors\[\d+\], fieldErrors\..+$,status,msg,video\..+$</param>
			</result>
			<interceptor-ref name="loginStack"></interceptor-ref>
		</action>
		
		<action name="tongleVideoActive" class="adminVideoAction" method="tongleActive">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">status,msg</param>
			</result>
			<interceptor-ref name="loginStack"></interceptor-ref>
		</action>
		
		<action name="deleteVideo" class="adminVideoAction" method="deleteVideo">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">status,msg</param>
			</result>
			<interceptor-ref name="loginStack"></interceptor-ref>
		</action>
		
		<action name="uploadImages" class="adminUploadImageAction" method="upload">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">actionErrors\[\d+\], fieldErrors\..+$,status,msg</param>
			</result>
			<interceptor-ref name="loginStack"></interceptor-ref>
		</action>
		
		<action name="userInit" class="adminUserAction">
			<result name="success">/admin/users.jsp</result>
			<interceptor-ref name="loginStack"></interceptor-ref>
		</action>
		
		<action name="userSettingInit">
			<result name="success">/admin/user-settings.jsp</result>
			<interceptor-ref name="loginStack"></interceptor-ref>
		</action>
		
		<action name="messagesInit" class="adminMessageAction">
			<result name="success">/admin/message.jsp</result>
			<interceptor-ref name="loginStack"></interceptor-ref>
		</action>
		
		<action name="settingInit" class="adminSettingAction">
			<result name="success">/admin/site-settings.jsp</result>
			<interceptor-ref name="loginStack"></interceptor-ref>
		</action>
		
		<action name="uploadSetting" class="adminSettingAction" method="upload">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">actionErrors\[\d+\], fieldErrors\..+$,status,msg</param>
			</result>
			<interceptor-ref name="loginStack"></interceptor-ref>
		</action>
		
		<action name="deletePicture" class="adminSettingAction" method="deletePicture">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">actionErrors\[\d+\], fieldErrors\..+$,status,msg</param>
			</result>
			<interceptor-ref name="loginStack"></interceptor-ref>
		</action>
		
		<action name="tongleActive" class="adminSettingAction" method="tongleActive">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">actionErrors\[\d+\], fieldErrors\..+$,status,msg,picture\..+$</param>
			</result>
			<interceptor-ref name="loginStack"></interceptor-ref>
		</action>
		
		<action name="saveNumbers" class="adminSettingAction" method="saveNumbers">
			<result name="success" type="json">
				<param name="ignoreHierarchy">false</param>
				<param name="includeProperties">status,msg</param>
			</result>
			<interceptor-ref name="loginStack"></interceptor-ref>
		</action>
		
	</package>
</struts>
